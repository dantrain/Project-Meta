define(["jquery"],function(e){return function(t){var n,r,i=e("#overlay"),s=e("#modal-container"),o=function(){t.isOpen=!0,t.close=u,t.closingPromise=null,r=e("#"+n.currentTarget.id+"-modal"),i.show(),setTimeout(function(){i.addClass("is-semitransparent"),r.addClass("is-swinging"),s.show()},50)},u=function(){var n=e.Deferred();return t.closingPromise=n.promise(),t.isOpen?(i.removeClass("is-semitransparent"),r.removeClass("is-swinging").addClass("is-falling"),setTimeout(function(){i.hide(),s.hide(),r.removeClass("is-falling"),t.isOpen=!1,n.resolve()},400)):n.resolve(),n.promise()};return function(e,r){var i=t.target;t.target=r.currentTarget,n=r,t.isOpen&&t.target!==i?t.close().done(o):t.isOpen&&t.target===i?t.closingPromise!==null?t.closingPromise.done(o):u():o()}}});