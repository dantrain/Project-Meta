define(["jquery"],function(e){return function(t){var n=e("#filters"),r=e("body, html"),i=function(){t.isOpen=!0,t.close=s,t.closingPromise=null,r.addClass("is-not-scrollable"),setTimeout(function(){n.removeClass("is-invisible-mobile").addClass("is-revealed")},50)},s=function(){var i=e.Deferred();return t.closingPromise=i.promise(),t.isOpen?(n.removeClass("is-revealed"),setTimeout(function(){r.removeClass("is-not-scrollable"),n.addClass("is-invisible-mobile"),t.isOpen=!1,i.resolve()},300)):i.resolve(),i.promise()};return function(e,n){var r=t.target;t.target=n.currentTarget,t.isOpen&&t.target!==r?t.close().done(i):t.isOpen&&t.target===r?t.closingPromise!==null?t.closingPromise.done(i):s():i()}}});